---

title: Title

keywords: fastai
sidebar: home_sidebar

summary: "summary"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 30_main.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    {% raw %}
        
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="tokenize_file" class="doc_header"><code>tokenize_file</code><a href="__main__.py#L13" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>tokenize_file</code>(<strong><code>input_path</code></strong>, <strong><code>output_path</code></strong>=<em><code>'tokenized.txt'</code></em>, <strong><code>lang</code></strong>=<em><code>'en'</code></em>, <strong><code>sample_size</code></strong>=<em><code>-1</code></em>, <strong><code>lines_chunks</code></strong>=<em><code>-1</code></em>, <strong><code>n_cpus</code></strong>=<em><code>-1</code></em>, <strong><code>keywords_w_stopwords</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="train_model" class="doc_header"><code>train_model</code><a href="__main__.py#L38" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>train_model</code>(<strong><code>input_filename</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="similars_tree_from_model" class="doc_header"><code>similars_tree_from_model</code><a href="__main__.py#L42" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>similars_tree_from_model</code>(<strong><code>model</code></strong>, <strong><code>vector_size</code></strong>=<em><code>100</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_similars" class="doc_header"><code>get_similars</code><a href="__main__.py#L53" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_similars</code>(<strong><code>tree</code></strong>, <strong><code>labels</code></strong>, <strong><code>keyword</code></strong>, <strong><code>n_similars</code></strong>=<em><code>10</code></em>, <strong><code>show_score</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="similars_tree" class="doc_header"><code>similars_tree</code><a href="__main__.py#L62" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>similars_tree</code>(<strong><code>input_path</code></strong>, <strong><code>temp_tokenized_file</code></strong>=<em><code>'tmp_tokenized.txt'</code></em>, <strong><code>lang</code></strong>=<em><code>'en'</code></em>, <strong><code>sample_size</code></strong>=<em><code>-1</code></em>, <strong><code>lines_chunks</code></strong>=<em><code>-1</code></em>, <strong><code>n_cpus</code></strong>=<em><code>-1</code></em>, <strong><code>keywords_w_stopwords</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data_url</span> <span class="o">=</span> <span class="s2">&quot;https://s3.amazonaws.com/episte-labs/epistemonikos_data_sample.tsv.gz&quot;</span>
<span class="n">data_filepath</span> <span class="o">=</span> <span class="s2">&quot;epistemonikos_data_sample.tsv.gz&quot;</span>
<span class="n">tokenized_filepath</span> <span class="o">=</span> <span class="s2">&quot;tokenized_epistemonikos_data.txt&quot;</span>
<span class="o">!</span>wget <span class="s2">&quot;{data_url}&quot;</span> -O <span class="s2">&quot;{data_filepath}&quot;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>--2020-02-25 11:52:04--  https://s3.amazonaws.com/episte-labs/epistemonikos_data_sample.tsv.gz
Resolving s3.amazonaws.com (s3.amazonaws.com)... 52.216.240.38
Connecting to s3.amazonaws.com (s3.amazonaws.com)|52.216.240.38|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 21510551 (21M) [application/gzip]
Saving to: ‘epistemonikos_data_sample.tsv.gz’

epistemonikos_data_ 100%[===================&gt;]  20.51M  1.76MB/s    in 12s     

2020-02-25 11:52:17 (1.70 MB/s) - ‘epistemonikos_data_sample.tsv.gz’ saved [21510551/21510551]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tokenize_file</span><span class="p">(</span><span class="n">data_filepath</span><span class="p">,</span> <span class="n">tokenized_filepath</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>processing file: epistemonikos_data_sample.tsv.gz
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='201' class='' max='201', style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.00% [201/201 00:16<00:00]
    </div>
    
</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;tokenized_epistemonikos_data.txt&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">train_model</span><span class="p">(</span><span class="n">tokenized_filepath</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">labels</span><span class="p">,</span> <span class="n">tree</span> <span class="o">=</span> <span class="n">similars_tree_from_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_similars</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="s2">&quot;obesity&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;obesity&#39;,
 &#39;overweight&#39;,
 &#39;obese children&#39;,
 &#39;ssbs&#39;,
 &#39;poor sleep quality&#39;,
 &#39;metabolic syndrome&#39;,
 &#39;obesity among children&#39;,
 &#39;dental caries&#39;,
 &#39;physical inactivity&#39;,
 &#39;obesity may&#39;,
 &#39;sedentary behaviour&#39;,
 &#39;food allergy&#39;,
 &#39;sugar-sweetened beverages&#39;,
 &#39;worldwide prevalence&#39;,
 &#39;known risk factor&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}
</div>
 

